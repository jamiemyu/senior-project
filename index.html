<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sleep State Classifier Project</title>
    
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/chart.css">
    <link rel="stylesheet" type="text/css" href="css/fileupload.css">
    <link rel="stylesheet" type="text/css" href="css/loaderbar.css">
    <link rel="stylesheet" type="text/css" href="css/carousel.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="./js/AppController.js"></script>
</head>
<body>
    <div id="restart_div">
        <button id="submit-btn" class="darken-2 btn-flat" type="submit" name="action" onclick="location.reload();"><i class="material-icons">arrow_back</i></button>
    </div>
    <div id="body_div" class="unloaded">
        <div id="upload_div">
            <div id="file-upload" class="file-upload">  
              <h5>Select a sleep recording to analyze:</h5>
              <div class="file-select">
                <div class="file-select-button" id="fileName">Choose File</div>
                <div class="file-select-name" id="noFile">No file chosen...</div> 
                <input type="file" name="chooseFile" id="chooseFile">
              </div>
              <div id="analyze-btn"></div>
            </div>
            <script>
                $("#chooseFile").bind("change", function() {
                  let filename = $("#chooseFile").val();

                  if (/^\s*$/.test(filename)) {
                    $(".file-upload").removeClass("active");
                    $("#noFile").text("No file chosen...");
                  } else {
                    $(".file-upload").addClass("active");
                    $("#noFile").text(filename.replace("C:\\fakepath\\", ""));
                    $('#analyze-btn').empty();
                    $('#analyze-btn').append('<button id="submit-btn" class="blue-grey white-text darken-2 btn-flat" type="submit" name="action" onclick="analyzeFile();">Analyze</button>');
                  }
                }); 
            </script>
            <p id="demo"></p>
        </div>   
        <div id="data">
            <div id="timeline_chart_div"></div>
            <div id="pie_chart_div"></div>
            <div id="stats_div"></div>
        </div>
    </div>
</body>
</html>
